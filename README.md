# Crypt

##Описание

---

Консольная программа создана для шифровки и дешифровки текста. Используется шифрование Цезоря.
UI состоит из трех пунктов:

- encrypt file - Зашифровать файл.
- decrypt file - Расшифровать файл.
- exit - выход.

---
После нажатия на клавишу 1, нужно ввести полный путь к файлу. Потом нужно выбрать сдвиг(ключ) только положительное число и
только от 1 до половины словаря. После чего в той же директории будет создан файл, 
который начинается с encrypt_ и заканчивается так же как оригинальный файл. `Если 
такой файл если и он не пустой, то файл удалится и будет создан заново`.
В зашифрованном файле все заглавные буквы станут маленькими.
---
После нажатия на клавишу 2, нужно ввести полный путь к зашифрованному файлу. После чего в той же директории будет создан файл,
который начинается с decrypt_ и заканчивается так же как зашифрованный файл. `Если
такой файл если и он не пустой, то файл удалится и будет создан заново`.
В расшифрованном файле большие буквы не восстанавливаются.
Если текста мало, то в консоль выведется все значения ключа от 1 до середины алфавита.
Сделано, для того, чтобы пользователь сам смог проанализировать текст с разными ключами.
---
После нажатия на клавишу 3, будет завершения программы.

##Структура проекта

---
Программа написана на основе паттерна MVC.

###Пакет View
Состоит из одного класса Menu и отвечает за UI и вывод текста в консоль.
Метод start предлагает пользователю зашифровать, расшифровать файл и выйти из программы.
Методы crypt и deCrypt передают в класс Controller путь к файлу и ключ который ввел пользователи.
---
###Пакет Controller
Состоит из одного класса Control и отвечает за существования файла который ввел пользователь и 
за нейменг зашифрованного и расшифрованного файла.
Метод checkFile проверяет существование файла.
Методы cryptFile и deCryptFile запускают классы Crypt и DeCrypt в пакете Model.
---
###Пакет Model
Главная логика программы. Состоит из трех классов.


Абстрактный класс Alphabet содержит только статический массив русского алфавита.

---
Класс Crypt читает файл который нужно зашифровать, шифрует по заданному ключу и создает файл с зашифрованным текстом.
Логика зашифровки текста находится в методе cryptFile.
При чтении файла заглавные буквы становится маленькими.
Каждый символ находится в алфавите и сдвигается по заданному ключу.
Если символа нет в алфавите, он пропускается.

---
Класс DeCrypt читает файл который нужно расшифровать, расшифровывает и создает файл с расшифрованным текстом.
Логика расшифровки разбита на несколько методов.
Сначала читается часть файла примерно больше, чем 2000 байт, если файл меньше, то применяется брутфорс.
Ко всему тексту по порядку применятся ключи от 1 до половины алфавита и выводится в консоль на экран.
После применения ключа считаются количество пробелов и каком ключе количество пробелов наибольшее, записывается в файл.
Если текст больше, чем 2000 байт, то к этому тексту применяется статистический анализ.
Создается HashMap в ключ попадают символы, а в значения пробелы. 
Дальше высчитывается смешение у самого частого символа до пробела, это и будет ключом к шифру.